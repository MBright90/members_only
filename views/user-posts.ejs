<%- include("./partials/head") %>

<body>

<div class="site-container d-flex h-100 mx-auto flex-column">
    <%- include("./partials/header") %>
    <main class="inner flex-grow-1">
        <%- include("./partials/userNav") %>
        <div class="d-flex flex-column mx-2 my-3">
            <h1 class="neon-text my-2 text-center"><%= author %>'s Posts</h1>
            <div class="card-deck">
                <% if (posts.length > 0) { %>

                    <% for (let post of posts) { %>
                        <div class="post-card m-3 p-3">
                            <h3 class="fw-bold"><%= post.title %></h3>
                            <p class="lead"><%= post.content %></p>
                            <div class="d-flex">
                                <p>Written by: <span class="fw-bold mx-2"><%= post.author.username %></span></p>
                                <div class="d-flex ml-auto gap-1">
                                    <p class="fw-bold text-right"><%= post.createdAgo %></p>
                                    
                                    <a href="/report-form-<%=post.id%>">
                                        <svg class="header-logo" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#dc3545" stroke="#dc3545"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M85.57,446.25H426.43a32,32,0,0,0,28.17-47.17L284.18,82.58c-12.09-22.44-44.27-22.44-56.36,0L57.4,399.08A32,32,0,0,0,85.57,446.25Z" style="fill:none;stroke:#dc3545;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"></path><path d="M250.26,195.39l5.74,122,5.73-121.95a5.74,5.74,0,0,0-5.79-6h0A5.74,5.74,0,0,0,250.26,195.39Z" style="fill:#0d6efd;stroke:#dc3545;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"></path><path d="M256,397.25a20,20,0,1,1,20-20A20,20,0,0,1,256,397.25Z" fill="#dc3545"></path></g></svg>
                                        <span class="sr-only">report post</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    <% } %>
            
                <% } else { %>
            
                    <div class="no-posts d-flex flex-column align-items-center my-5 mx-2">
                        <h1 class="neon-text fw-bold">Uh oh</h1>
                        <p class="lead fw-bold">We couldn't find any posts for this user</p>
                        <p>Click <a class="link" href="/">here</a> to go home.</p>
                    </div>
            
                <% } %>
            </div>
        </div>
    </main>
    <%- include("./partials/foot") %>
</div>

</body>